{
  "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
  "width": 600,
  "height": 300,
  "data": {
    "url": "student_learning.csv"
  },
  "transform": [
    {"fold": ["Concept Mastery", "R Coding Confidence", "Problem Solving", "Participation", "Enjoyment"], 
     "as": ["Category", "Rating"]}
  ],
  "mark": {
    "type": "circle",
    "opacity": 0.8,
    "stroke": "black",
    "strokeWidth": 1
  },
  "encoding": {
    "x": {
      "field": "Rating",
      "type": "quantitative",
      "axis": {"grid": false, "title": "Rating (1-10)"},
      "scale": {"domain": [0, 10]}
    },
    "y": {
      "field": "Category",
      "type": "nominal",
      "axis": {"title": "Learning Categories"}
    },
    "size": {
      "aggregate": "count",
      "title": "Number of Students",
      "legend": {"clipHeight": 30},
      "scale": {"range": [100, 2000]}
    },
    "color": {
      "field": "Category",
      "type": "nominal",
      "legend": null
    },
    "tooltip": [
      {"field": "Category", "type": "nominal"},
      {"field": "Rating", "type": "quantitative"},
      {"field": "Student", "type": "nominal"},
      {"field": "Week", "type": "quantitative"}
    ]
  }
}