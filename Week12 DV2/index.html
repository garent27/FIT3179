<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
<script src="vega_lite_vis.js"></script>
<link rel="stylesheet" href="layout.css">
<title>Second Vega-Lite graph </title>
</head>
<body>
<h1>Fastest Rubik's Cube Solves by Country </h1>
<div id="selected-country" style="font-size: 18px; margin: 10px 0; font-weight: bold; color: #333;">
    Selected Country = "None"
</div>
<button id="reset-country" style="margin: 10px 0; padding: 8px 16px; background-color: #007ACC; color: white; border: none; border-radius: 4px; cursor: pointer;">
    Show World Rankings
</button>
<div id="choropleth_map"></div>
    

<h2>Top 5 Fastest Single Solves Ever</h2>
<div id="top5_fastest"></div>

<h2>Top 10 Fastest Countries</h2>
<div id="bar_chart"></div>

<h2>Total Competitions by Country</h2>
<div id="symbol_map"></div>

<h2>Competition Activity: Year vs Continent</h2>
<div id="heatmap"></div>

<h2>Competition Solves by Event</h2>
<div id="treemap"></div>

<h2>Distribution of Solve Times by Category</h2>
<div id="violin_plot"></div>

<h2>Growth of New Competitors by Continent</h2>
<div id="stacked_area"></div>

<h2>Cumulative Competitors by Continent Over Time</h2>
<div id="cumulative_area"></div>

<footer style="margin-top: 40px; padding: 20px; text-align: center; border-top: 1px solid #ddd; background-color: #f9f9f9;">
    <div style="margin: 10px 0; padding: 10px; background-color: #f5f5f5; border-radius: 5px; display: inline-block;">
        <span style="font-size: 14px; color: #666;">Page Views: </span>
        <span id="visitor-count" style="font-weight: bold; color: #007ACC;">Loading...</span>
    </div>
    
    <script>
    // Page-specific visitor counter with unique identifier
    window.addEventListener('load', function() {
        // Create a unique namespace for your specific project
        const uniqueId = 'garent27-fit3179-rubiks-cube-dashboard-2025';
        const pageKey = 'week12-dv2-visits';
        
        // First, try to create a new counter starting from 1
        fetch(`https://api.countapi.xyz/create?namespace=${uniqueId}&key=${pageKey}&value=0`)
            .then(response => response.json())
            .then(data => {
                // If creation successful or counter already exists, increment it
                return fetch(`https://api.countapi.xyz/hit/${uniqueId}/${pageKey}`);
            })
            .then(response => response.json())
            .then(data => {
                if (data && data.value !== undefined) {
                    document.getElementById('visitor-count').textContent = data.value;
                } else {
                    throw new Error('Invalid response');
                }
            })
            .catch(error => {
                console.error('Counter error:', error);
                // Simple localStorage fallback for testing
                let visits = parseInt(localStorage.getItem('local-visits') || '0') + 1;
                localStorage.setItem('local-visits', visits);
                document.getElementById('visitor-count').textContent = visits + ' (local)';
            });
    });
    </script>
    <p style="margin: 10px 0; font-size: 12px; color: #888;">
        Rubik's Cube Data Visualization Dashboard
    </p>
</footer>



</body>
</html>
