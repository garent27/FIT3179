{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Rubik's Cube Competition Activity: Year vs Continent",
    "fontSize": 20,
    "anchor": "start"
  },
  "width": 800,
  "height": 400,
  "data": {
    "url": "data/competitions_with_fastest.csv"
  },
  "transform": [
    {
      "lookup": "countryId",
      "from": {
        "data": {
          "values": [
            {"country": "United States of America", "continent": "North America"},
            {"country": "Canada", "continent": "North America"},
            {"country": "Mexico", "continent": "North America"},
            {"country": "Guatemala", "continent": "North America"},
            {"country": "Costa Rica", "continent": "North America"},
            {"country": "Panama", "continent": "North America"},
            {"country": "Cuba", "continent": "North America"},
            {"country": "Jamaica", "continent": "North America"},
            {"country": "Haiti", "continent": "North America"},
            {"country": "Dominican Republic", "continent": "North America"},
            {"country": "Bahamas", "continent": "North America"},
            {"country": "Trinidad and Tobago", "continent": "North America"},
            {"country": "Belize", "continent": "North America"},
            {"country": "El Salvador", "continent": "North America"},
            {"country": "Honduras", "continent": "North America"},
            {"country": "Nicaragua", "continent": "North America"},
            {"country": "Brazil", "continent": "South America"},
            {"country": "Argentina", "continent": "South America"},
            {"country": "Chile", "continent": "South America"},
            {"country": "Colombia", "continent": "South America"},
            {"country": "Peru", "continent": "South America"},
            {"country": "Venezuela", "continent": "South America"},
            {"country": "Uruguay", "continent": "South America"},
            {"country": "Paraguay", "continent": "South America"},
            {"country": "Bolivia", "continent": "South America"},
            {"country": "Ecuador", "continent": "South America"},
            {"country": "Guyana", "continent": "South America"},
            {"country": "Suriname", "continent": "South America"},
            {"country": "Germany", "continent": "Europe"},
            {"country": "France", "continent": "Europe"},
            {"country": "United Kingdom", "continent": "Europe"},
            {"country": "Italy", "continent": "Europe"},
            {"country": "Spain", "continent": "Europe"},
            {"country": "Netherlands", "continent": "Europe"},
            {"country": "Poland", "continent": "Europe"},
            {"country": "Sweden", "continent": "Europe"},
            {"country": "Norway", "continent": "Europe"},
            {"country": "Finland", "continent": "Europe"},
            {"country": "Denmark", "continent": "Europe"},
            {"country": "Belgium", "continent": "Europe"},
            {"country": "Switzerland", "continent": "Europe"},
            {"country": "Austria", "continent": "Europe"},
            {"country": "Czech Republic", "continent": "Europe"},
            {"country": "Slovakia", "continent": "Europe"},
            {"country": "Hungary", "continent": "Europe"},
            {"country": "Romania", "continent": "Europe"},
            {"country": "Bulgaria", "continent": "Europe"},
            {"country": "Serbia", "continent": "Europe"},
            {"country": "Croatia", "continent": "Europe"},
            {"country": "Slovenia", "continent": "Europe"},
            {"country": "Bosnia and Herzegovina", "continent": "Europe"},
            {"country": "Montenegro", "continent": "Europe"},
            {"country": "North Macedonia", "continent": "Europe"},
            {"country": "Albania", "continent": "Europe"},
            {"country": "Greece", "continent": "Europe"},
            {"country": "Cyprus", "continent": "Europe"},
            {"country": "Portugal", "continent": "Europe"},
            {"country": "Lithuania", "continent": "Europe"},
            {"country": "Latvia", "continent": "Europe"},
            {"country": "Estonia", "continent": "Europe"},
            {"country": "Iceland", "continent": "Europe"},
            {"country": "Ireland", "continent": "Europe"},
            {"country": "Luxembourg", "continent": "Europe"},
            {"country": "Belarus", "continent": "Europe"},
            {"country": "Ukraine", "continent": "Europe"},
            {"country": "Moldova", "continent": "Europe"},
            {"country": "Russia", "continent": "Europe"},
            {"country": "China", "continent": "Asia"},
            {"country": "Japan", "continent": "Asia"},
            {"country": "South Korea", "continent": "Asia"},
            {"country": "India", "continent": "Asia"},
            {"country": "Indonesia", "continent": "Asia"},
            {"country": "Thailand", "continent": "Asia"},
            {"country": "Malaysia", "continent": "Asia"},
            {"country": "Philippines", "continent": "Asia"},
            {"country": "Vietnam", "continent": "Asia"},
            {"country": "Taiwan", "continent": "Asia"},
            {"country": "Singapore", "continent": "Asia"},
            {"country": "Hong Kong", "continent": "Asia"},
            {"country": "Iran", "continent": "Asia"},
            {"country": "Turkey", "continent": "Asia"},
            {"country": "Israel", "continent": "Asia"},
            {"country": "Saudi Arabia", "continent": "Asia"},
            {"country": "Qatar", "continent": "Asia"},
            {"country": "United Arab Emirates", "continent": "Asia"},
            {"country": "Pakistan", "continent": "Asia"},
            {"country": "Bangladesh", "continent": "Asia"},
            {"country": "Kazakhstan", "continent": "Asia"},
            {"country": "Uzbekistan", "continent": "Asia"},
            {"country": "Kyrgyzstan", "continent": "Asia"},
            {"country": "Tajikistan", "continent": "Asia"},
            {"country": "Turkmenistan", "continent": "Asia"},
            {"country": "Afghanistan", "continent": "Asia"},
            {"country": "Myanmar", "continent": "Asia"},
            {"country": "Cambodia", "continent": "Asia"},
            {"country": "Laos", "continent": "Asia"},
            {"country": "Mongolia", "continent": "Asia"},
            {"country": "Nepal", "continent": "Asia"},
            {"country": "Bhutan", "continent": "Asia"},
            {"country": "Sri Lanka", "continent": "Asia"},
            {"country": "Armenia", "continent": "Asia"},
            {"country": "Azerbaijan", "continent": "Asia"},
            {"country": "Georgia", "continent": "Asia"},
            {"country": "Jordan", "continent": "Asia"},
            {"country": "Lebanon", "continent": "Asia"},
            {"country": "Syria", "continent": "Asia"},
            {"country": "Iraq", "continent": "Asia"},
            {"country": "Kuwait", "continent": "Asia"},
            {"country": "Oman", "continent": "Asia"},
            {"country": "Yemen", "continent": "Asia"},
            {"country": "Bahrain", "continent": "Asia"},
            {"country": "Australia", "continent": "Oceania"},
            {"country": "New Zealand", "continent": "Oceania"},
            {"country": "Fiji", "continent": "Oceania"},
            {"country": "Papua New Guinea", "continent": "Oceania"},
            {"country": "Solomon Islands", "continent": "Oceania"},
            {"country": "Vanuatu", "continent": "Oceania"},
            {"country": "New Caledonia", "continent": "Oceania"},
            {"country": "South Africa", "continent": "Africa"},
            {"country": "Egypt", "continent": "Africa"},
            {"country": "Morocco", "continent": "Africa"},
            {"country": "Algeria", "continent": "Africa"},
            {"country": "Tunisia", "continent": "Africa"},
            {"country": "Libya", "continent": "Africa"},
            {"country": "Sudan", "continent": "Africa"},
            {"country": "Ethiopia", "continent": "Africa"},
            {"country": "Kenya", "continent": "Africa"},
            {"country": "Uganda", "continent": "Africa"},
            {"country": "Tanzania", "continent": "Africa"},
            {"country": "Rwanda", "continent": "Africa"},
            {"country": "Nigeria", "continent": "Africa"},
            {"country": "Ghana", "continent": "Africa"},
            {"country": "Angola", "continent": "Africa"},
            {"country": "Zambia", "continent": "Africa"},
            {"country": "Zimbabwe", "continent": "Africa"},
            {"country": "Botswana", "continent": "Africa"},
            {"country": "Namibia", "continent": "Africa"},
            {"country": "Madagascar", "continent": "Africa"},
            {"country": "Mozambique", "continent": "Africa"},
            {"country": "Malawi", "continent": "Africa"},
            {"country": "Cameroon", "continent": "Africa"},
            {"country": "Ivory Coast", "continent": "Africa"},
            {"country": "Senegal", "continent": "Africa"},
            {"country": "Mali", "continent": "Africa"},
            {"country": "Burkina Faso", "continent": "Africa"},
            {"country": "Niger", "continent": "Africa"},
            {"country": "Chad", "continent": "Africa"},
            {"country": "Central African Republic", "continent": "Africa"}
          ]
        },
        "key": "country",
        "fields": ["continent"]
      }
    },
    {
      "filter": "datum.continent != null"
    },
    {
      "aggregate": [{"op": "sum", "field": "competitions", "as": "total_competitions"}],
      "groupby": ["year", "continent"]
    }
  ],
  "mark": "rect",
  "encoding": {
    "x": {
      "field": "year",
      "type": "ordinal",
      "title": "Year",
      "axis": {"labelAngle": 0}
    },
    "y": {
      "field": "continent",
      "type": "nominal",
      "title": "Continent",
      "sort": ["North America", "South America", "Europe", "Asia", "Africa", "Oceania"]
    },
    "color": {
      "field": "total_competitions",
      "type": "quantitative",
      "title": "Total Competitions",
      "scale": {
        "type": "sequential",
        "scheme": "blues",
        "range": ["#f7fbff", "#08519c"]
      },
      "legend": {
        "title": "Competitions Count",
        "orient": "right"
      }
    },
    "tooltip": [
      {"field": "continent", "type": "nominal", "title": "Continent"},
      {"field": "year", "type": "ordinal", "title": "Year"},
      {"field": "total_competitions", "type": "quantitative", "title": "Total Competitions"}
    ]
  }
}
