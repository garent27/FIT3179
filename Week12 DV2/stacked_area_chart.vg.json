{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Growth of New Rubik's Cube Competitors by Continent (2003-2025)",
    "fontSize": 26,
    "anchor": "start",
    "color": "black",
    "offset": 40
  },
  "padding": {"left": 0, "right": 0, "top": 0, "bottom": 0},
  "background": "transparent",
  "width": 600,
  "height": 350,
  "data": {
    "url": "data/competitor_growth_by_continent.csv"
  },
  "transform": [
    {
      "calculate": "replace(datum.continentId, '_', '')",
      "as": "continent"
    }
  ],
  "mark": {
    "type": "area",
    "interpolate": "monotone",
    "opacity": 0.8,
    "stroke": "white",
    "strokeWidth": 1
  },
  "encoding": {
    "x": {
      "field": "year",
      "type": "quantitative",
      "title": "Year",
      "scale": {"domain": [2003, 2025]},
      "axis": {
        "labelFontSize": 12,
        "titleFontSize": 14,
        "grid": false,
        "gridOpacity": 0.3,
        "format": "d"
      }
    },
    "y": {
      "field": "new_competitors",
      "type": "quantitative",
      "stack": true,
      "title": "New Competitors",
      "axis": {
        "labelFontSize": 12,
        "titleFontSize": 14,
        "grid": false,
        "gridOpacity": 0.3,
        "format": ",d"
      }
    },
    "color": {
      "field": "continent",
      "type": "nominal",
      "scale": {
        "domain": ["Asia", "Europe", "North America", "South America", "Oceania", "Africa"],
        "range": ["#ffbf69", "#fcf6bd", "#fec8c3", "#a9def9", "#e4c1f9", "#ddbea9"]
      },
      "legend": {
        "title": "Continent",
        "titleFontSize": 14,
        "labelFontSize": 12,
        "orient": "right",
        "symbolType": "square",
        "symbolSize": 200
      }
    },
    "tooltip": [
      {"field": "year", "type": "quantitative", "title": "Year", "format": "d"},
      {"field": "continent", "type": "nominal", "title": "Continent"},
      {"field": "new_competitors", "type": "quantitative", "title": "New Competitors", "format": ",d"}
    ]
  },
  "config": {
    "view": {"stroke": "transparent"},
    "axis": {
      "labelColor": "#333",
      "titleColor": "#333",
      "domainColor": "#333",
      "tickColor": "#333"
    },
    "legend": {
      "labelColor": "#333",
      "titleColor": "#333"
    }
  }
}
